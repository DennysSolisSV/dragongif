(this["webpackJsonpbuildspace-solana"]=this["webpackJsonpbuildspace-solana"]||[]).push([[0],{105:function(e){e.exports=JSON.parse('{"_keypair":{"publicKey":{"0":50,"1":81,"2":60,"3":197,"4":228,"5":83,"6":47,"7":133,"8":34,"9":36,"10":251,"11":73,"12":230,"13":248,"14":9,"15":139,"16":108,"17":238,"18":208,"19":220,"20":7,"21":71,"22":232,"23":105,"24":124,"25":91,"26":43,"27":255,"28":28,"29":255,"30":233,"31":107},"secretKey":{"0":220,"1":255,"2":103,"3":242,"4":33,"5":66,"6":255,"7":81,"8":243,"9":251,"10":77,"11":12,"12":44,"13":193,"14":81,"15":163,"16":46,"17":98,"18":42,"19":193,"20":10,"21":211,"22":126,"23":162,"24":79,"25":72,"26":55,"27":83,"28":73,"29":13,"30":110,"31":172,"32":50,"33":81,"34":60,"35":197,"36":228,"37":83,"38":47,"39":133,"40":34,"41":36,"42":251,"43":73,"44":230,"45":248,"46":9,"47":139,"48":108,"49":238,"50":208,"51":220,"52":7,"53":71,"54":232,"55":105,"56":124,"57":91,"58":43,"59":255,"60":28,"61":255,"62":233,"63":107}}}')},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t){},116:function(e,t){},131:function(e,t){},147:function(e,t){},148:function(e,t){},166:function(e,t){},168:function(e,t){},175:function(e,t,n){"use strict";n.r(t);var r=n(24),c=n.n(r),a=n(101),s=n.n(a),o=(n(111),n(1)),i=n.n(o),u=n(3),l=n(9),f=n.p+"static/media/twitter-logo.d89d9a86.svg",p=n.p+"static/media/logo.ed71ac55.png",b=(n(112),n(8)),d=n(21),g=n(38),m=n(105),j=n(13),v=d.web3.SystemProgram,h=(d.web3.Keypair,n(21)),x=Object.values(m._keypair.secretKey),y=new Uint8Array(x),w=d.web3.Keypair.fromSecretKey(y),O=new b.PublicKey(g.metadata.address),k=Object(b.clusterApiUrl)("devnet"),S="processed",N=new h.BN(25*Math.pow(10,6)),K="D3nnsS0l1s",P="https://twitter.com/".concat(K),A=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(l.a)(a,2),o=s[0],m=s[1],h=Object(r.useState)([]),x=Object(l.a)(h,2),y=x[0],A=x[1],I=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,!(n=t.solana)){e.next=12;break}if(!n.isPhantom){e.next=10;break}return console.log("Phantom wallet found!"),e.next=7,n.connect({onlyIfTrusted:!0});case 7:r=e.sent,console.log("Connected with Public Key:",r.publicKey.toString()),c(r.publicKey.toString());case 10:e.next=13;break;case 12:alert("Solana object not found! Get a Phantom wallet");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(n=t.solana)){e.next=7;break}return e.next=4,n.connect();case 4:r=e.sent,console.log("Connected with Public Key:",r.publicKey.toString()),c(r.publicKey.toString());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==o.length){e.next=3;break}return console.log("No gif link given!"),e.abrupt("return");case 3:return console.log("Gif link:",o),e.prev=4,t=D(),n=new d.Program(g,O,t),e.next=9,n.rpc.addGif(o,{accounts:{baseAccount:w.publicKey}});case 9:return console.log("GIF sucesfully sent to program",o),e.next=12,U();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("Error sending GIF:",e.t0);case 17:E();case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),M=function(e){var t=e.target.value;m(t)},E=function(){m("")},F=function(e){var t=e.target.value;B(t)},L=function(e){var t=e.target.value;T(t)},B=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=D(),r=new d.Program(g,O,n),e.next=5,r.rpc.likeUp(t,{accounts:{baseAccount:w.publicKey}});case 5:return console.log("GIF sucesfully sent like",t),e.next=8,U();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error sending GIF:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(i.a.mark((function e(t){var r,c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,r=new b.PublicKey(t),c=new b.PublicKey(n),a=D(),s=new d.Program(g,O,a),e.next=8,s.rpc.sendSol(N,{accounts:{from:c,to:r,systemProgram:v.programId}});case 8:return console.log("sent money"),e.next=11,U();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error sending Money:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=new b.Connection(k,S);return new d.Provider(e,window.solana,S)};Object(r.useEffect)((function(){window.addEventListener("load",function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var J=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D(),n=new d.Program(g,O,t),e.next=5,n.rpc.startStuffOff({accounts:{baseAccount:w.publicKey,user:t.wallet.publicKey,systemProgram:v.programId},signers:[w]});case 5:return console.log("Created a new BaseAccount w/ address:",w.publicKey.toString()),e.next=8,U();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error creating BaseAccount account:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D(),n=new d.Program(g,O,t),e.next=5,n.account.baseAccount.fetch(w.publicKey);case 5:r=e.sent,console.log("Got the account",r),A(r.gifList),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getGifs: ",e.t0),A(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n&&(console.log("Fetching GIF list..."),U())}),[n]),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"header-container",children:[Object(j.jsx)("p",{className:"header",children:Object(j.jsx)("img",{alt:"DragonBall Logo",className:"dragon-ball-logo",src:p})}),Object(j.jsx)("p",{className:"sub-text",children:"View your Dragon Ball GIF collection in the metaverse \u2728"}),!n&&Object(j.jsx)("button",{className:"cta-button connect-wallet-button",onClick:G,children:"Connect to Wallet"}),n&&(null===y?Object(j.jsx)("div",{className:"connected-container",children:Object(j.jsx)("button",{className:"cta-button submit-gif-button",onClick:J,children:"Do One-Time Initialization For GIF Program Account"})}):Object(j.jsxs)("div",{className:"connected-container",children:[Object(j.jsx)("input",{className:"inp",type:"text",placeholder:"Enter gif link!",value:o,onChange:M}),Object(j.jsx)("button",{className:"cta-button submit-gif-button",onClick:C,children:"Submit"}),Object(j.jsx)("div",{className:"gif-grid",children:y.map((function(e,t){return Object(j.jsxs)("div",{className:"gif-item",children:[Object(j.jsx)("img",{src:e.gifLink}),Object(j.jsxs)("p",{children:[" Sender: ",e.userAddress.toString()]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("button",{className:"cta-button submit-like-button",value:e.gifId.toString(),onClick:F,children:["Like  (",e.upVote.toString(),")"]}),Object(j.jsx)("button",{className:"cta-button submit-money-button",value:e.userAddress.toString(),onClick:L,children:"Tip 0.025 Solana"})]})]},t)}))})]})),Object(j.jsx)("div",{className:n?"authed-container":"container"})]}),Object(j.jsx)("footer",{children:Object(j.jsxs)("div",{className:"footer-container",children:[Object(j.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:f}),Object(j.jsx)("a",{className:"footer-text",href:P,target:"_blank",rel:"noreferrer",children:"built on @".concat(K)})]})})]})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root"))},38:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"gifchain","instructions":[{"name":"startStuffOff","accounts":[{"name":"baseAccount","isMut":true,"isSigner":true},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"addGif","accounts":[{"name":"baseAccount","isMut":true,"isSigner":false}],"args":[{"name":"gifLink","type":"string"}]},{"name":"likeUp","accounts":[{"name":"baseAccount","isMut":true,"isSigner":false}],"args":[{"name":"gifId","type":"string"}]},{"name":"sendSol","accounts":[{"name":"from","isMut":true,"isSigner":true},{"name":"to","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"BaseAccount","type":{"kind":"struct","fields":[{"name":"totalGifs","type":"u64"},{"name":"gifList","type":{"vec":{"defined":"ItemStruct"}}}]}}],"types":[{"name":"ItemStruct","type":{"kind":"struct","fields":[{"name":"gifId","type":"u64"},{"name":"gifLink","type":"string"},{"name":"userAddress","type":"publicKey"},{"name":"upVote","type":"u64"}]}}],"metadata":{"address":"B6jSdo1j7TWNz6tDqHeC9yAuQzcZW4XTbogq1kNyfiTM"}}')}},[[175,1,2]]]);
//# sourceMappingURL=main.7bdeda99.chunk.js.map